{
  "id": "dev.mufeed.Wordbook.Devel",
  "runtime": "org.gnome.Platform",
  "runtime-version": "master",
  "sdk": "org.gnome.Sdk",
  "command": "wordbook",
  "finish-args": [
    "--socket=pulseaudio",
    "--share=ipc",
    "--device=dri",
    "--socket=fallback-x11",
    "--socket=wayland"
  ],
  "cleanup": ["*blueprint*", "*.a", "*.la", "/lib/pkgconfig", "/include"],
  "modules": [
    {
      "name": "blueprint-compiler",
      "buildsystem": "meson",
      "cleanup": ["*"],
      "sources": [
        {
          "type": "git",
          "url": "https://gitlab.gnome.org/jwestman/blueprint-compiler",
          "branch": "main"
        }
      ]
    },
    {
      "name": "pcaudiolib",
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/espeak-ng/pcaudiolib.git",
          "tag": "1.3",
          "commit": "e907571bad7dee296fb56a409a0f7c5a0c57d38a"
        }
      ]
    },
    {
      "name": "espeak-ng",
      "no-parallel-make": true,
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/espeak-ng/espeak-ng.git",
          "tag": "1.52.0",
          "commit": "4870adfa25b1a32b4361592f1be8a40337c58d6c"
        }
      ]
    },
    {
      "name": "python3-modules",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"pydantic\" \"rapidfuzz\" \"backports.zstd\" --no-build-isolation"
      ],
      "sources": [
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/78/b6/6307fbef88d9b5ee7421e68d78a9f162e0da4900bc5f5793f6d3d0e34fb8/annotated_types-0.7.0-py3-none-any.whl",
          "sha256": "1f02e8b43a8fbbc3f3e0d4f0f4bfc8131bcb4eebe8849b8e5c773f3a1c582a53"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/44/08/bda420a2d13be0d6aa8323b735207de46bb01c08575e3a6810e01a20501f/backports_zstd-1.2.0-cp313-cp313-manylinux2014_aarch64.manylinux_2_17_aarch64.manylinux_2_28_aarch64.whl",
          "sha256": "9478c04e285da26ce1198d5ec1e43905531049c9e0f74169a39df5876f44643e",
          "only-arches": ["aarch64"]
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/2c/74/a7ae8e421ccb779130d64745d3191daf6da02f37bf7cf099dc10d688d14e/backports_zstd-1.2.0-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl",
          "sha256": "4e7340a7fb7bac7607382554b138ae8dbffda0b8af72ce5c639fb86b49a3b2e4",
          "only-arches": ["x86_64"]
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/5a/87/b70ad306ebb6f9b585f114d0ac2137d792b48be34d732d60e597c2f8465a/pydantic-2.12.5-py3-none-any.whl",
          "sha256": "e561593fccf61e8a20fc46dfc2dfe075b8be7d0188df33f221ad1f0139180f9d"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/15/df/a4c740c0943e93e6500f9eb23f4ca7ec9bf71b19e608ae5b579678c8d02f/pydantic_core-2.41.5-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl",
          "sha256": "0cbaad15cb0c90aa221d43c00e77bb33c93e8d36e0bf74760cd00e732d10a6a0",
          "only-arches": ["aarch64"]
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/cf/4e/35a80cae583a37cf15604b44240e45c05e04e86f9cfd766623149297e971/pydantic_core-2.41.5-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "sha256": "406bf18d345822d6c21366031003612b9c77b3e29ffdb0f612367352aab7d586",
          "only-arches": ["x86_64"]
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/59/cf/c3ac8c80d8ced6c1f99b5d9674d397ce5d0e9d0939d788d67c010e19c65f/rapidfuzz-3.13.0-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl",
          "sha256": "0da54aa8547b3c2c188db3d1c7eb4d1bb6dd80baa8cdaeaec3d1da3346ec9caa",
          "only-arches": ["aarch64"]
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/9b/df/6096bc669c1311568840bdcbb5a893edc972d1c8d2b4b4325c21d54da5b1/rapidfuzz-3.13.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "sha256": "1343d745fbf4688e412d8f398c6e6d6f269db99a54456873f232ba2e7aeb4939",
          "only-arches": ["x86_64"]
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/18/67/36e9267722cc04a6b9f15c7f3441c2363321a3ea07da7ae0c0707beb2a9c/typing_extensions-4.15.0-py3-none-any.whl",
          "sha256": "f0fa19c6845758ab08074a0cfa8b7aecb71c999ca73d62883bc25cc018c4e548"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/dc/9b/47798a6c91d8bdb567fe2698fe81e0c6b7cb7ef4d13da4114b41d239f65d/typing_inspection-0.4.2-py3-none-any.whl",
          "sha256": "4ed1cacbdc298c220f1bd249ed5287caa16f34d44ef4e9c3d0cbad5b521545e7"
        }
      ]
    },
    {
      "name": "wordnet-data",
      "buildsystem": "simple",
      "build-commands": [
        "python3 scripts/generate-wn-db.py --source-file english-wordnet-2025-plus.xml.gz --output wn.db.zst",
        "WN_VERSION=$(git -C subprojects/wn rev-parse --short HEAD) && install -Dm644 wn.db.zst /app/share/wordbook/wn-${WN_VERSION}.db.zst"
      ],
      "sources": [
        {
          "type": "dir",
          "path": "../../."
        },
        {
          "type": "file",
          "url": "https://en-word.net/static/english-wordnet-2025-plus.xml.gz",
          "sha256": "31f4af16c54b532fd5484d4cc33aee588a31bb5b70683ae8197842fde5b586bc"
        }
      ]
    },
    {
      "name": "wordbook",
      "buildsystem": "meson",
      "config-opts": ["-Dprofile=development", "-Dinstall_wn_db=false"],
      "sources": [
        {
          "type": "dir",
          "path": "../../."
        }
      ]
    }
  ]
}
